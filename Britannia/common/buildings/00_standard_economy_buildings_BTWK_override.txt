### peat_quarries

peat_quarries_01 = {
	construction_time = standard_construction_time

	can_construct_potential = {
		building_peat_quarries_requirement_terrain = yes
		building_requirement_castle_city_church = { LEVEL = 01 }
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = cheap_building_tier_1_cost

	province_modifier = {
		monthly_income = normal_building_tax_tier_1
		build_speed = normal_building_build_speed_tier_1
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.02
	}
	county_culture_modifier = {
		parameter = peat_quarries_building_bonuses
		build_speed = -0.02
		build_gold_cost = -0.01
		tax_mult = 0.02
		levy_size = 0.02
	}
	
	next_building = peat_quarries_02

	type_icon = "icon_building_peat_quarries.dds"
	
	ai_value = {
		base = 12 # A little bit higher than normal, they're very handy for further development
		ai_tier_1_building_modifier = yes
		ai_tier_1_economical_building_preference_modifier = yes
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_peat_quarries_improvement_from_culture_modifier = yes
	}
}

peat_quarries_02 = {
	construction_time = standard_construction_time

	can_construct_potential = {
		building_peat_quarries_requirement_terrain = yes
		building_requirement_castle_city_church = { LEVEL = 01 }
		scope:holder.culture = {
			has_innovation = innovation_crop_rotation
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = cheap_building_tier_2_cost
	
	province_modifier = {
		monthly_income = normal_building_tax_tier_2
		build_speed = normal_building_build_speed_tier_2
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.03
	}
	
	county_modifier = {
		build_gold_cost = -0.05
	}
	county_culture_modifier = {
		parameter = peat_quarries_building_bonuses
		build_speed = -0.04
		build_gold_cost = -0.02
		tax_mult = 0.03
		levy_size = 0.03
	}
	
	next_building = peat_quarries_03
	
	ai_value = {
		base = 9
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
		modifier = { # Fill all building slots before going for upgrades
			factor = 0
			free_building_slots > 0
		}
	}
}

peat_quarries_03 = {
	construction_time = standard_construction_time

	can_construct_potential = {
		building_peat_quarries_requirement_terrain = yes
	}

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 02 }
		scope:holder.culture = {
			has_innovation = innovation_manorialism
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = cheap_building_tier_3_cost
	
	province_modifier = {
		monthly_income = normal_building_tax_tier_3
		build_speed = normal_building_build_speed_tier_3
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.04
	}
	
	county_modifier = {
		build_gold_cost = -0.05
		supply_limit = 200
	}
	county_culture_modifier = {
		parameter = peat_quarries_building_bonuses
		build_speed = -0.06
		build_gold_cost = -0.03
		tax_mult = 0.04
		levy_size = 0.04
	}
	
	next_building = peat_quarries_04
	
	ai_value = {
		base = 8
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

peat_quarries_04 = {
	construction_time = standard_construction_time

	can_construct_potential = {
		building_peat_quarries_requirement_terrain = yes
	}

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 02 }
		scope:holder.culture = {
			has_innovation = innovation_manorialism
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = cheap_building_tier_4_cost
	
	province_modifier = {
		monthly_income = normal_building_tax_tier_4
		build_speed = normal_building_build_speed_tier_4
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.05
	}
	
	county_modifier = {
		build_gold_cost = -0.05
		supply_limit = 200
		supply_limit_mult = 0.05
	}
	county_culture_modifier = {
		parameter = peat_quarries_building_bonuses
		build_speed = -0.08
		build_gold_cost = -0.04
		tax_mult = 0.05
		levy_size = 0.05
	}
	
	next_building = peat_quarries_05
	
	ai_value = {
		base = 7
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

peat_quarries_05 = {
	construction_time = standard_construction_time

	can_construct_potential = {
		building_peat_quarries_requirement_terrain = yes
	}

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 03 }
		scope:holder.culture = {
			has_innovation = innovation_guilds
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = cheap_building_tier_5_cost
	
	province_modifier = {
		monthly_income = normal_building_tax_tier_5
		build_speed = normal_building_build_speed_tier_5
		hostile_raid_time = 0.1
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.06
	}
	
	county_modifier = {
		build_gold_cost = -0.05
		supply_limit = 200
		supply_limit_mult = 0.05
	}
	county_culture_modifier = {
		parameter = peat_quarries_building_bonuses
		build_speed = -0.10
		build_gold_cost = -0.05
		tax_mult = 0.06
		levy_size = 0.06
	}
	
	next_building = peat_quarries_06
	
	ai_value = {
		base = 6
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

peat_quarries_06 = {
	construction_time = standard_construction_time

	can_construct_potential = {
		building_peat_quarries_requirement_terrain = yes
	}

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 03 }
		scope:holder.culture = {
			has_innovation = innovation_guilds
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = cheap_building_tier_6_cost
	
	province_modifier = {
		monthly_income = normal_building_tax_tier_6
		build_speed = normal_building_build_speed_tier_6
		hostile_raid_time = 0.1
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.07
	}
	
	county_modifier = {
		build_gold_cost = -0.05
		supply_limit = 200
		supply_limit_mult = 0.05
		development_growth_factor = 0.05
	}
	county_culture_modifier = {
		parameter = peat_quarries_building_bonuses
		build_speed = -0.12
		build_gold_cost = -0.06
		tax_mult = 0.07
		levy_size = 0.07
	}
	
	next_building = peat_quarries_07
	
	ai_value = {
		base = 5
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

peat_quarries_07 = {
	construction_time = standard_construction_time

	can_construct_potential = {
		building_peat_quarries_requirement_terrain = yes
	}

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 04 }
		scope:holder.culture = {
			has_innovation = innovation_cranes
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = cheap_building_tier_7_cost
	
	province_modifier = {
		monthly_income = normal_building_tax_tier_7
		build_speed = normal_building_build_speed_tier_7
		hostile_raid_time = 0.1
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.08
	}
	
	county_modifier = {
		build_gold_cost = -0.1
		supply_limit = 200
		supply_limit_mult = 0.05
		development_growth_factor = 0.05
	}
	county_culture_modifier = {
		parameter = peat_quarries_building_bonuses
		build_speed = -0.14
		build_gold_cost = -0.07
		tax_mult = 0.08
		levy_size = 0.08
	}
	
	next_building = peat_quarries_08
	
	ai_value = {
		base = 4
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

peat_quarries_08 = {
	construction_time = standard_construction_time

	can_construct_potential = {
		building_peat_quarries_requirement_terrain = yes
	}

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 04 }
		scope:holder.culture = {
			has_innovation = innovation_cranes
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = cheap_building_tier_8_cost
	
	province_modifier = {
		monthly_income = normal_building_tax_tier_8
		build_speed = normal_building_build_speed_tier_8
		hostile_raid_time = 0.1
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.09
	}
	
	county_modifier = {
		build_gold_cost = -0.1
		supply_limit = 600
		supply_limit_mult = 0.05
		development_growth_factor = 0.05
	}
	county_culture_modifier = {
		parameter = peat_quarries_building_bonuses
		build_speed = -0.16
		build_gold_cost = -0.08
		tax_mult = 0.10
		levy_size = 0.10
	}
	
	ai_value = {
		base = 3
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

#Orchards
orchards_01 = {
	construction_time = standard_construction_time
	effect_desc = orchards_effect_desc

	can_construct_potential = {
		building_orchards_requirement_terrain = yes
		building_requirement_castle_city_church = { LEVEL = 01 }
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = normal_building_tier_1_cost
	
	levy = small_building_levy_tier_1
	province_modifier = {
		monthly_income = normal_building_tax_tier_1
	}
	county_modifier = {
		development_growth_factor = 0.05
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.01
	}
	county_culture_modifier = {
		parameter = orchards_building_bonuses
		build_speed = -0.02
		build_gold_cost = -0.01
		tax_mult = 0.02
		levy_size = 0.02
	}
	
	next_building = orchards_02

	type_icon = "icon_building_orchards.dds"
	
	ai_value = {
		base = 15 # Significantly higher than normal, they're just that good
		ai_tier_1_building_modifier = yes
		ai_tier_1_economical_building_preference_modifier = yes
		ai_orchard_improvement_from_culture_modifier = yes
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		modifier = {
			factor = 2
			AND = {
				building_watermills_requirement_terrain = yes
				building_windmills_requirement_terrain = yes
			}
		}
		modifier = {
			factor = 2
			culture = {
				has_cultural_parameter = vegetarian_fruit_orchard_allowed
			}
		}
	}
}

orchards_02 = {
	construction_time = standard_construction_time
	effect_desc = orchards_effect_desc

	can_construct_potential = {
		building_orchards_requirement_terrain = yes
		building_requirement_castle_city_church = { LEVEL = 01 }
		scope:holder.culture = {
			has_innovation = innovation_crop_rotation
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = normal_building_tier_2_cost
	
	levy = small_building_levy_tier_2
	province_modifier = {
		monthly_income = normal_building_tax_tier_2
		levy_reinforcement_rate = 0.1
	}
	county_modifier = {
		development_growth_factor = 0.1
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.02
	}
	county_culture_modifier = {
		parameter = orchards_building_bonuses
		build_speed = -0.04
		build_gold_cost = -0.02
		tax_mult = 0.03
		levy_size = 0.03
	}
	
	next_building = orchards_03
	
	ai_value = {
		base = 9
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
		modifier = { # Fill all building slots before going for upgrades
			factor = 0
			free_building_slots > 0
		}
	}
}

orchards_03 = {
	construction_time = standard_construction_time
	effect_desc = orchards_effect_desc

	can_construct_potential = {
		building_orchards_requirement_terrain = yes
	}

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 02 }
		scope:holder.culture = {
			has_innovation = innovation_manorialism
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = normal_building_tier_3_cost
	
	levy = small_building_levy_tier_3
	province_modifier = {
		monthly_income = normal_building_tax_tier_3
		levy_reinforcement_rate = 0.1
		supply_limit_mult = 0.1
	}
	county_modifier = {
		development_growth_factor = 0.15
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.03
		supply_limit_mult = 0.1
	}
	county_culture_modifier = {
		parameter = orchards_building_bonuses
		build_speed = -0.06
		build_gold_cost = -0.03
		tax_mult = 0.04
		levy_size = 0.04
	}
	
	next_building = orchards_04
	
	ai_value = {
		base = 8
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

orchards_04 = {
	construction_time = standard_construction_time
	effect_desc = orchards_effect_desc

	can_construct_potential = {
		building_orchards_requirement_terrain = yes
	}

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 02 }
		scope:holder.culture = {
			has_innovation = innovation_manorialism
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = normal_building_tier_4_cost
	
	levy = small_building_levy_tier_4
	province_modifier = {
		monthly_income = normal_building_tax_tier_4
		levy_reinforcement_rate = 0.1
		supply_limit_mult = 0.1
	}
	county_modifier = {
		development_growth_factor = 0.2
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.04
		supply_limit_mult = 0.1
	}
	county_culture_modifier = {
		parameter = orchards_building_bonuses
		build_speed = -0.08
		build_gold_cost = -0.04
		tax_mult = 0.05
		levy_size = 0.05
	}
	
	next_building = orchards_05
	
	ai_value = {
		base = 7
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

orchards_05 = {
	construction_time = standard_construction_time
	effect_desc = orchards_effect_desc

	can_construct_potential = {
		building_orchards_requirement_terrain = yes
	}

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 03 }
		scope:holder.culture = {
			has_innovation = innovation_guilds
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = normal_building_tier_5_cost
	
	levy = small_building_levy_tier_5
	province_modifier = {
		monthly_income = normal_building_tax_tier_5
		levy_reinforcement_rate = 0.1
		supply_limit_mult = 0.1
	}
	county_modifier = {
		development_growth_factor = 0.25
		levy_size = 0.02
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.05
		supply_limit_mult = 0.1
	}
	county_culture_modifier = {
		parameter = orchards_building_bonuses
		build_speed = -0.1
		build_gold_cost = -0.05
		tax_mult = 0.06
		levy_size = 0.06
	}
	
	next_building = orchards_06
	
	ai_value = {
		base = 6
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

orchards_06 = {
	construction_time = standard_construction_time
	effect_desc = orchards_effect_desc

	can_construct_potential = {
		building_orchards_requirement_terrain = yes
	}

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 03 }
		scope:holder.culture = {
			has_innovation = innovation_guilds
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = normal_building_tier_6_cost
	
	levy = small_building_levy_tier_6
	province_modifier = {
		monthly_income = normal_building_tax_tier_6
		supply_limit = 1000
		levy_reinforcement_rate = 0.1
		supply_limit_mult = 0.1
	}
	county_modifier = {
		development_growth_factor = 0.3
		levy_size = 0.02
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.06
		supply_limit_mult = 0.1
	}
	county_culture_modifier = {
		parameter = orchards_building_bonuses
		build_speed = -0.12
		build_gold_cost = -0.06
		tax_mult = 0.07
		levy_size = 0.07
	}
	
	next_building = orchards_07
	
	ai_value = {
		base = 5
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

orchards_07 = {
	construction_time = standard_construction_time
	effect_desc = orchards_effect_desc

	can_construct_potential = {
		building_orchards_requirement_terrain = yes
	}

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 04 }
		scope:holder.culture = {
			has_innovation = innovation_cranes
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = normal_building_tier_7_cost
	
	levy = small_building_levy_tier_7
	province_modifier = {
		monthly_income = normal_building_tax_tier_7
		supply_limit = 1000
		levy_reinforcement_rate = 0.1
		supply_limit_mult = 0.1
	}
	county_modifier = {
		development_growth_factor = 0.35
		levy_size = 0.02
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.07
		supply_limit_mult = 0.1
	}
	character_modifier = {
		monthly_prestige = 0.1
	}
	county_culture_modifier = {
		parameter = orchards_building_bonuses
		build_speed = -0.14
		build_gold_cost = -0.07
		tax_mult = 0.08
		levy_size = 0.08
	}
	
	next_building = orchards_08
	
	ai_value = {
		base = 4
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

orchards_08 = {
	construction_time = standard_construction_time
	effect_desc = orchards_effect_desc

	can_construct_potential = {
		building_orchards_requirement_terrain = yes
	}

	can_construct = {
		building_requirement_castle_city_church = { LEVEL = 04 }
		scope:holder.culture = {
			has_innovation = innovation_cranes
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = normal_building_tier_8_cost
	
	levy = small_building_levy_tier_8
	province_modifier = {
		monthly_income = normal_building_tax_tier_8
		supply_limit = 1000
		levy_reinforcement_rate = 0.1
		supply_limit_mult = 0.1
	}
	county_modifier = {
		development_growth_factor = 0.4
		levy_size = 0.02
	}
	province_terrain_modifier = {
		parameter = coastal_agriculture_building_bonuses
		is_coastal = yes
		tax_mult = 0.08
		supply_limit_mult = 0.1
	}
	character_modifier = {
		monthly_prestige = 0.1
	}
	county_culture_modifier = {
		parameter = orchards_building_bonuses
		build_speed = -0.16
		build_gold_cost = -0.08
		tax_mult = 0.09
		levy_size = 0.09
	}
	
	ai_value = {
		base = 3
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

#Watermills

watermills_01 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		OR = {
			building_watermills_requirement_terrain = yes
			AND = {
				has_building_or_higher = logging_camps_04
				culture = {
					has_cultural_parameter = watermills_forestries_unlock
				}
			}
		}
		building_requirement_castle_city_church = { LEVEL = 01 }
		trigger_if = {
			limit = {
				NOT = {
					scope:holder.culture = {
						has_cultural_parameter = next_level_w_mills
					}
					culture = {
						has_cultural_parameter = watermills_forestries_unlock
					}
				}
			}
			scope:holder.culture = {
				has_innovation = innovation_crop_rotation
			}
		}
		trigger_else = {
			OR = {
				scope:holder.culture = {
					has_cultural_parameter = next_level_w_mills
					has_innovation = innovation_manorialism
				}
				AND = {
					has_building_or_higher = logging_camps_04
					culture = {
						has_cultural_parameter = watermills_forestries_unlock
					}
				}
			}
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	is_enabled = {
		trigger_if = {
			limit = {
				NOT = {
					scope:holder.culture = {
					has_cultural_parameter = watermills_windmills_cities
					}
				}
			}
			is_county_capital = yes
		}
		trigger_else = {
			scope:holder.culture = {
				has_cultural_parameter = watermills_windmills_cities
			}
			OR = {
				is_county_capital = yes
				AND = {
					NOR = {
						has_building_or_higher = windmills_01
						has_building_or_higher = caravanserai_01
					}
					has_building_or_higher = city_01
				}
				
			}
		}	
	}
	show_disabled = yes
	
	can_construct = {
	}

	cost_gold = expensive_building_tier_1_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_1
		supply_limit_mult = 0.1
		holding_build_gold_cost = -0.05
		build_gold_cost = -0.05
	}
	
	county_modifier = {
		development_growth = good_building_development_growth_tier_1
	}
	
	next_building = watermills_02

	type_icon = "icon_building_watermills.dds"
	
	ai_value = {
		base = 20
		ai_tier_1_building_modifier = yes
		ai_tier_1_economical_building_preference_modifier = yes
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes

		modifier = {
			factor = 10
			has_building_or_higher = windmills_01
		}
		modifier = {
			factor = 2
			AND = {
				building_watermills_requirement_terrain = yes
				building_windmills_requirement_terrain = yes
			}
		}
	}
}

watermills_02 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		OR = {
			building_watermills_requirement_terrain = yes
			AND = {
				has_building_or_higher = logging_camps_04
				culture = {
					has_cultural_parameter = watermills_forestries_unlock
				}
			}
		}
		building_requirement_castle_city_church = { LEVEL = 01 }
	}
	
	can_construct = {
		trigger_if = {
			limit = {
				NOT = {
					scope:holder.culture = {
						has_cultural_parameter = next_level_w_mills
					}
					culture = {
						has_cultural_parameter = watermills_forestries_unlock
					}
				}
			}
			scope:holder.culture = {
				has_innovation = innovation_crop_rotation
			}
		}
		trigger_else = {
			OR = {
				scope:holder.culture = {
					has_cultural_parameter = next_level_w_mills
					has_innovation = innovation_manorialism
				}
				AND = {
					has_building_or_higher = logging_camps_04
					culture = {
						has_cultural_parameter = watermills_forestries_unlock
					}
				}
			}
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = expensive_building_tier_2_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_2
		supply_limit_mult = 0.2
		holding_build_gold_cost = -0.10
		build_gold_cost = -0.10
	}
	
	county_modifier = {
		development_growth = good_building_development_growth_tier_2
	}
	
	next_building = watermills_03
	ai_value = {
		base = 9
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
		modifier = { # Fill all building slots before going for upgrades
			factor = 0
			free_building_slots > 0
		}
	}
}

watermills_03 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		OR = {
			building_watermills_requirement_terrain = yes
			AND = {
				has_building_or_higher = logging_camps_04
				culture = {
					has_cultural_parameter = watermills_forestries_unlock
				}
			}
		}
	}
	can_construct = {
		trigger_if = {
			limit = {
				NOT = {
					scope:holder.culture = {
						has_cultural_parameter = next_level_w_mills
					}
					culture = {
						has_cultural_parameter = watermills_forestries_unlock
					}
				}
			}
			scope:holder.culture = {
				has_innovation = innovation_manorialism
			}
			building_requirement_castle_city_church = { LEVEL = 02 }
		}
		trigger_else = {
			OR = {
				AND = {
					scope:holder.culture = {
						has_cultural_parameter = next_level_w_mills
						has_innovation = innovation_manorialism
					}
				}
				AND = {
					has_building_or_higher = logging_camps_04
					culture = {
						has_cultural_parameter = watermills_forestries_unlock
					}
				}
			}
			building_requirement_castle_city_church = { LEVEL = 01 }
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = expensive_building_tier_3_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_3
		supply_limit_mult = 0.3
		holding_build_gold_cost = -0.14
		build_gold_cost = -0.14
	}
	
	county_modifier = {
		development_growth = good_building_development_growth_tier_3
		development_growth_factor = normal_building_development_growth_factor_tier_1
		tax_mult = normal_building_tax_mult_tier_1
	}
	
	next_building = watermills_04
	ai_value = {
		base = 8
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

watermills_04 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		OR = {
			building_watermills_requirement_terrain = yes
			AND = {
				has_building_or_higher = logging_camps_04
				culture = {
					has_cultural_parameter = watermills_forestries_unlock
				}
			}
		}
	}
	can_construct = {
		trigger_if = {
			limit = {
				NOT = {
					scope:holder.culture = {
						has_cultural_parameter = next_level_w_mills
					}
					culture = {
						has_cultural_parameter = watermills_forestries_unlock
					}
				}
			}
			scope:holder.culture = {
				has_innovation = innovation_manorialism
			}
			building_requirement_castle_city_church = { LEVEL = 02 }
		}
		trigger_else = {
			OR = {
				AND = {
					scope:holder.culture = {
						has_cultural_parameter = next_level_w_mills
						has_innovation = innovation_manorialism
					}
				}
				AND = {
					has_building_or_higher = logging_camps_04
					culture = {
						has_cultural_parameter = watermills_forestries_unlock
					}
				}
			}
			building_requirement_castle_city_church = { LEVEL = 01 }
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = expensive_building_tier_4_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_4
		supply_limit_mult = 0.4
		holding_build_gold_cost = -0.18
		build_gold_cost = -0.18
	}
	
	county_modifier = {
		development_growth_factor = normal_building_development_growth_factor_tier_2
		development_growth = good_building_development_growth_tier_4
		tax_mult = normal_building_tax_mult_tier_2
	}
	
	next_building = watermills_05
	ai_value = {
		base = 7
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

watermills_05 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		building_watermills_requirement_terrain = yes
	}
	can_construct = {
		scope:holder.culture = {
			has_innovation = innovation_windmills
		}
		trigger_if = {
			limit = {
				NOT = {
					scope:holder.culture = {
						has_cultural_parameter = next_level_w_mills
					}
				}
			}
			building_requirement_castle_city_church = { LEVEL = 03 }
		}
		trigger_else = {
			scope:holder.culture = {
				has_cultural_parameter = next_level_w_mills
			}
			building_requirement_castle_city_church = { LEVEL = 02 }
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = expensive_building_tier_5_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_5
		supply_limit_mult = 0.5
		holding_build_gold_cost = -0.22
		build_gold_cost = -0.22
	}
	
	county_modifier = {
		development_growth_factor = normal_building_development_growth_factor_tier_3
		development_growth = good_building_development_growth_tier_5
		tax_mult = normal_building_tax_mult_tier_3
	}
	
	next_building = watermills_06
	ai_value = {
		base = 6
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

watermills_06 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		building_watermills_requirement_terrain = yes
	}
	can_construct = {
		trigger_if = {
			limit = {
				NOT = {
					scope:holder.culture = {
						has_cultural_parameter = next_level_w_mills
					}
				}
			}
			building_requirement_castle_city_church = { LEVEL = 03 }
			scope:holder.culture = {
			has_innovation = innovation_guilds
			}
		}
		trigger_else = {
			scope:holder.culture = {
				has_cultural_parameter = next_level_w_mills
			}
			building_requirement_castle_city_church = { LEVEL = 02 }
			scope:holder.culture = {
			has_innovation = innovation_windmills
			}
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = expensive_building_tier_6_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_6
		supply_limit_mult = 0.6
		holding_build_gold_cost = -0.24
		build_gold_cost = -0.24
	}
	
	county_modifier = {
		development_growth_factor = normal_building_development_growth_factor_tier_4
		development_growth = good_building_development_growth_tier_6
		tax_mult = normal_building_tax_mult_tier_4
	}
	
	next_building = watermills_07
	ai_value = {
		base = 5
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

watermills_07 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		building_watermills_requirement_terrain = yes
	}
	can_construct = {
		trigger_if = {
			limit = {
				NOT = {
					scope:holder.culture = {
						has_cultural_parameter = next_level_w_mills
					}
				}
			}
			building_requirement_castle_city_church = { LEVEL = 04 }
			scope:holder.culture = {
			has_innovation = innovation_cranes
			}
		}
		trigger_else = {
			scope:holder.culture = {
				has_cultural_parameter = next_level_w_mills
			}
			building_requirement_castle_city_church = { LEVEL = 03 }
			scope:holder.culture = {
			has_innovation = innovation_windmills
			}
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = expensive_building_tier_7_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_7
		supply_limit_mult = 0.7
		holding_build_gold_cost = -0.26
		build_gold_cost = -0.26
	}
	
	county_modifier = {
		development_growth_factor = normal_building_development_growth_factor_tier_5
		development_growth = good_building_development_growth_tier_7
		tax_mult = normal_building_tax_mult_tier_5
	}
	
	next_building = watermills_08
	ai_value = {
		base = 4
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

watermills_08 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		building_watermills_requirement_terrain = yes
	}
	can_construct = {
		trigger_if = {
			limit = {
				NOT = {
					scope:holder.culture = {
						has_cultural_parameter = next_level_w_mills
					}
				}
			}
			building_requirement_castle_city_church = { LEVEL = 04 }
			scope:holder.culture = {
			has_innovation = innovation_cranes
			}
		}
		trigger_else = {
			scope:holder.culture = {
				has_cultural_parameter = next_level_w_mills
			}
			building_requirement_castle_city_church = { LEVEL = 03 }
			scope:holder.culture = {
			has_innovation = innovation_windmills
			}
		}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = expensive_building_tier_8_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_8
		supply_limit_mult = 0.8
		holding_build_gold_cost = -0.30
		build_gold_cost = -0.30
	}
	
	county_modifier = {
		development_growth_factor = normal_building_development_growth_factor_tier_6
		development_growth = good_building_development_growth_tier_8
		tax_mult = normal_building_tax_mult_tier_6
	}
	
	ai_value = {
		base = 3
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

### Windmills

windmills_01 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		always = no 
		#OR = {
		#	building_windmills_requirement_terrain = yes
		#	AND = {
		#		has_building_or_higher = hill_farms_04
		#		culture = {
		#			has_cultural_parameter = windmills_hill_farms_unlock
		#		}
		#	}
		#}
		#building_requirement_castle_city_church = { LEVEL = 01 }
		#trigger_if = {
		#	limit = {
		#		NOT = {
		#			scope:holder.culture = {
		#				has_cultural_parameter = next_level_w_mills
		#			}
		#			culture = {
		#				has_cultural_parameter = windmills_hill_farms_unlock
		#			}
		#		}
		#	}
		#	scope:holder.culture = {
		#		has_innovation = innovation_windmills
		#	}
		#}
		#trigger_else = {
		#	OR = {
		#		scope:holder.culture = {
		#			has_cultural_parameter = next_level_w_mills
		#			has_innovation = innovation_manorialism
		#		}
		#		AND = {
		#			has_building_or_higher = hill_farms_04
		#			culture = {
		#				has_cultural_parameter = windmills_hill_farms_unlock
		#			}
		#		}
		#	}
		#}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	is_enabled = {
		trigger_if = {
			limit = {
				NOT = {
					scope:holder.culture = {
					has_cultural_parameter = watermills_windmills_cities
					}
				}
			}
			is_county_capital = yes
		}
		trigger_else = {
			scope:holder.culture = {
				has_cultural_parameter = watermills_windmills_cities
			}
			OR = {
				is_county_capital = yes
				AND = {
					NOR = {
						has_building_or_higher = watermills_01
						has_building_or_higher = caravanserai_01
					}
					has_building_or_higher = city_01
				}
				
			}
		}	
	}
	show_disabled = yes
	
	can_construct = {
	}

	cost_gold = expensive_building_tier_1_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_1
		tax_mult = good_building_tax_mult_tier_1
		supply_limit_mult = 0.1
	}
	
	county_modifier = {
		development_growth_factor = good_building_development_growth_factor_tier_1
		development_growth = good_building_development_growth_tier_1
	}
	
	next_building = windmills_02

	type_icon = "icon_building_windmills.dds"
	
	ai_value = {
		base = 20
		ai_tier_1_building_modifier = yes
		ai_tier_1_economical_building_preference_modifier = yes
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes

		modifier = {
			factor = 10
			has_building_or_higher = watermills_01
		}
		modifier = {
			factor = 2
			is_coastal = yes
		}
		modifier = {
			factor = 2
			AND = {
				building_watermills_requirement_terrain = yes
				building_windmills_requirement_terrain = yes
			}
		}
	}
}

windmills_02 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		always = no
		#OR = {
		#	building_windmills_requirement_terrain = yes
		#	AND = {
		#		has_building_or_higher = hill_farms_04
		#		culture = {
		#			has_cultural_parameter = windmills_hill_farms_unlock
		#		}
		#	}
		#}
		#building_requirement_castle_city_church = { LEVEL = 01 }
	}
	
	can_construct = {
		always = no
		#trigger_if = {
		#	limit = {
		#		NOT = {
		#			scope:holder.culture = {
		#				has_cultural_parameter = next_level_w_mills
		#			}
		#			culture = {
		#				has_cultural_parameter = windmills_hill_farms_unlock
		#			}
		#		}
		#	}
		#	scope:holder.culture = {
		#		has_innovation = innovation_windmills
		#	}
		#}
		#trigger_else = {
		#	OR = {
		#		scope:holder.culture = {
		#			has_cultural_parameter = next_level_w_mills
		#			has_innovation = innovation_manorialism
		#		}
		#		AND = {
		#			has_building_or_higher = hill_farms_04
		#			culture = {
		#				has_cultural_parameter = windmills_hill_farms_unlock
		#			}
		#		}
		#	}
		#}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = expensive_building_tier_2_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_2
		tax_mult = good_building_tax_mult_tier_2
		supply_limit_mult = 0.2
	}
	
	county_modifier = {
		development_growth_factor = good_building_development_growth_factor_tier_2
		development_growth = good_building_development_growth_tier_2
	}
	
	next_building = windmills_03
	ai_value = {
		base = 9
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
		modifier = { # Fill all building slots before going for upgrades
			factor = 0
			free_building_slots > 0
		}
	}
}

windmills_03 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		always = no
		#OR = {
		#	building_windmills_requirement_terrain = yes
		#	AND = {
		#		has_building_or_higher = hill_farms_04
		#		culture = {
		#			has_cultural_parameter = windmills_hill_farms_unlock
		#		}
		#	}
		#}
	}
	can_construct = {
		always = no
		#trigger_if = {
		#	limit = {
		#		NOT = {
		#			scope:holder.culture = {
		#				has_cultural_parameter = next_level_w_mills
		#			}
		#			culture = {
		#				has_cultural_parameter = windmills_hill_farms_unlock
		#			}
		#		}
		#	}
		#	scope:holder.culture = {
		#		has_innovation = innovation_windmills
		#	}
		#}
		#trigger_else = {
		#	OR = {
		#		scope:holder.culture = {
		#			has_cultural_parameter = next_level_w_mills
		#			has_innovation = innovation_manorialism
		#		}
		#		AND = {
		#			has_building_or_higher = hill_farms_04
		#			culture = {
		#				has_cultural_parameter = windmills_hill_farms_unlock
		#			}
		#		}
		#	}
		#}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = expensive_building_tier_3_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_3
		tax_mult = good_building_tax_mult_tier_3
		supply_limit_mult = 0.3
	}
	
	county_modifier = {
		development_growth_factor = good_building_development_growth_factor_tier_3
		development_growth = good_building_development_growth_tier_3
	}
	
	next_building = windmills_04
	ai_value = {
		base = 8
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

windmills_04 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		always = no
		#OR = {
		#	building_windmills_requirement_terrain = yes
		#	AND = {
		#		has_building_or_higher = hill_farms_04
		#		culture = {
		#			has_cultural_parameter = windmills_hill_farms_unlock
		#		}
		#	}
		#}
	}
	can_construct = {
		always = no
		#trigger_if = {
		#	limit = {
		#		NOT = {
		#			scope:holder.culture = {
		#				has_cultural_parameter = next_level_w_mills
		#			}
		#			culture = {
		#				has_cultural_parameter = windmills_hill_farms_unlock
		#			}
		#		}
		#	}
		#	building_requirement_castle_city_church = { LEVEL = 02 }
		#}
		#trigger_else = {
		#	OR = {
		#		scope:holder.culture = {
		#			has_cultural_parameter = next_level_w_mills
		#			has_innovation = innovation_windmills
		#		}
		#		AND = {
		#			has_building_or_higher = hill_farms_04
		#			culture = {
		#				has_cultural_parameter = windmills_hill_farms_unlock
		#			}
		#		}
		#	}
		#}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = expensive_building_tier_4_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_4
		tax_mult = good_building_tax_mult_tier_4
		supply_limit_mult = 0.4
	}
	
	county_modifier = {
		development_growth_factor = good_building_development_growth_factor_tier_4
		development_growth = good_building_development_growth_tier_4
	}
	
	next_building = windmills_05
	ai_value = {
		base = 7
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

windmills_05 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		always = no
		#building_windmills_requirement_terrain = yes
	}
	can_construct = {
		always = no
		#scope:holder.culture = {
		#	has_innovation = innovation_windmills
		#}
		#trigger_if = {
		#	limit = {
		#		NOT = {
		#			scope:holder.culture = {
		#				has_cultural_parameter = next_level_w_mills
		#			}
		#		}
		#	}
		#	building_requirement_castle_city_church = { LEVEL = 03 }
		#}
		#trigger_else = {
		#	scope:holder.culture = {
		#		has_cultural_parameter = next_level_w_mills
		#	}
		#	building_requirement_castle_city_church = { LEVEL = 02 }
		#}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = expensive_building_tier_5_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_5
		tax_mult = good_building_tax_mult_tier_5
		supply_limit_mult = 0.5
	}
	
	county_modifier = {
		development_growth_factor = good_building_development_growth_factor_tier_5
		development_growth = good_building_development_growth_tier_5
	}
	
	next_building = windmills_06
	ai_value = {
		base = 6
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

windmills_06 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		always = no
		#building_windmills_requirement_terrain = yes
	}
	can_construct = {
		always = no
		#trigger_if = {
		#	limit = {
		#		NOT = {
		#			scope:holder.culture = {
		#				has_cultural_parameter = next_level_w_mills
		#			}
		#		}
		#	}
		#	building_requirement_castle_city_church = { LEVEL = 03 }
		#	scope:holder.culture = {
		#	has_innovation = innovation_cranes
		#	}
		#}
		#trigger_else = {
		#	scope:holder.culture = {
		#		has_cultural_parameter = next_level_w_mills
		#	}
		#	building_requirement_castle_city_church = { LEVEL = 02 }
		#	scope:holder.culture = {
		#		has_innovation = innovation_windmills
		#	}
		#}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = expensive_building_tier_6_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_6
		tax_mult = good_building_tax_mult_tier_6
		supply_limit_mult = 0.6
	}
	
	county_modifier = {
		development_growth_factor = good_building_development_growth_factor_tier_6
		development_growth = good_building_development_growth_tier_6
	}
	
	next_building = windmills_07
	ai_value = {
		base = 5
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

windmills_07 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		always = no
		#building_windmills_requirement_terrain = yes
	}
	can_construct = {
		always = no
		#trigger_if = {
		#	limit = {
		#		NOT = {
		#			scope:holder.culture = {
		#				has_cultural_parameter = next_level_w_mills
		#			}
		#		}
		#	}
		#	building_requirement_castle_city_church = { LEVEL = 04 }
		#	scope:holder.culture = {
		#	has_innovation = innovation_cranes
		#	}
		#}
		#trigger_else = {
		#	scope:holder.culture = {
		#		has_cultural_parameter = next_level_w_mills
		#	}
		#	building_requirement_castle_city_church = { LEVEL = 03 }
		#	scope:holder.culture = {
		#		has_innovation = innovation_windmills
		#	}
		#}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}

	cost_gold = expensive_building_tier_7_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_7
		tax_mult = good_building_tax_mult_tier_7
		supply_limit_mult = 0.7
	}
	
	county_modifier = {
		development_growth_factor = good_building_development_growth_factor_tier_7
		development_growth = good_building_development_growth_tier_7
	}
	
	next_building = windmills_08
	ai_value = {
		base = 4
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}

windmills_08 = {
	construction_time = slow_construction_time

	can_construct_potential = {
		always = no
		#building_windmills_requirement_terrain = yes
	}
	can_construct = {
		always = no
		#trigger_if = {
		#	limit = {
		#		NOT = {
		#			scope:holder.culture = {
		#				has_cultural_parameter = next_level_w_mills
		#			}
		#		}
		#	}
		#	building_requirement_castle_city_church = { LEVEL = 04 }
		#	scope:holder.culture = {
		#	has_innovation = innovation_cranes
		#	}
		#}
		#trigger_else = {
		#	scope:holder.culture = {
		#		has_cultural_parameter = next_level_w_mills
		#	}
		#	building_requirement_castle_city_church = { LEVEL = 03 }
		#	scope:holder.culture = {
		#		has_innovation = innovation_windmills
		#	}
		#}
	}

	can_construct_showing_failures_only = {
		building_requirement_tribal = no
	}
	
	cost_gold = expensive_building_tier_8_cost
	
	province_modifier = {
		monthly_income = excellent_building_tax_tier_8
		tax_mult = good_building_tax_mult_tier_8
		supply_limit_mult = 0.8
	}
	
	county_modifier = {
		development_growth_factor = good_building_development_growth_factor_tier_8
		development_growth = good_building_development_growth_tier_8
	}
	
	ai_value = {
		base = 3
		ai_general_building_modifier = yes
		directive_to_build_economy_modifier = yes
		ai_economical_building_preference_modifier = yes
	}
}